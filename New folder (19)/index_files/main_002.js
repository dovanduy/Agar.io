/*
* Project: @gamedistribution.com/html5-sdk
* Description: GameDistribution.com HTML5 SDK
* Development By: GameDistribution.com
* Copyright(c): 2019
* Version: 1.2.3 (02-01-2019 10:45)
*/
!function r(s,a,d){function c(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return c(s[t][1][e]||e)},i,i.exports,r,s,a,d)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<d.length;e++)c(d[e]);return c}({1:[function(e,t,n){"use strict";t.exports=e("./").polyfill()},{"./":2}],2:[function(H,n,o){(function(K,j){var e,t;e=this,t=function(){"use strict";function c(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,t=void 0,i=void 0,a=function(e,t){h[o]=e,h[o+1]=t,2===(o+=2)&&(i?i(g):y())};var e="undefined"!=typeof window?window:void 0,r=e||{},s=r.MutationObserver||r.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==K&&"[object process]"==={}.toString.call(K),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(g,1)}}var h=new Array(1e3);function g(){for(var e=0;e<o;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}o=0}var p,f,m,v,y=void 0;function b(e,t){var n=this,o=new this.constructor(w);void 0===o[E]&&N(o);var i=n._state;if(i){var r=arguments[i-1];a(function(){return B(i,o,r,n._result)})}else P(n,o,e,t);return o}function _(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return k(t,e),t}y=d?function(){return K.nextTick(g)}:s?(f=0,m=new s(g),v=document.createTextNode(""),m.observe(v,{characterData:!0}),function(){v.data=f=++f%2}):l?((p=new MessageChannel).port1.onmessage=g,function(){return p.port2.postMessage(0)}):void 0===e&&"function"==typeof H?function(){try{var e=Function("return this")().require("vertx");return void 0!==(t=e.runOnLoop||e.runOnContext)?function(){t(g)}:u()}catch(e){return u()}}():u();var E=Math.random().toString(36).substring(2);function w(){}var A=void 0,T=1,D=2,S={error:null};function R(e){try{return e.then}catch(e){return S.error=e,S}}function x(e,t,n){var o,i,r,s;t.constructor===e.constructor&&n===b&&t.constructor.resolve===_?(r=e,(s=t)._state===T?C(r,s._result):s._state===D?L(r,s._result):P(s,void 0,function(e){return k(r,e)},function(e){return L(r,e)})):n===S?(L(e,S.error),S.error=null):void 0===n?C(e,t):c(n)?(o=t,i=n,a(function(t){var n=!1,e=function(e,t,n,o){try{e.call(t,n,o)}catch(e){return e}}(i,o,function(e){n||(n=!0,o!==e?k(t,e):C(t,e))},function(e){n||(n=!0,L(t,e))},t._label);!n&&e&&(n=!0,L(t,e))},e)):C(e,t)}function k(e,t){var n,o;e===t?L(e,new TypeError("You cannot resolve a promise with itself")):(o=typeof(n=t),null===n||"object"!==o&&"function"!==o?C(e,t):x(e,t,R(t)))}function I(e){e._onerror&&e._onerror(e._result),O(e)}function C(e,t){e._state===A&&(e._result=t,e._state=T,0!==e._subscribers.length&&a(O,e))}function L(e,t){e._state===A&&(e._state=D,e._result=t,a(I,e))}function P(e,t,n,o){var i=e._subscribers,r=i.length;e._onerror=null,i[r]=t,i[r+T]=n,i[r+D]=o,0===r&&e._state&&a(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,i=void 0,r=e._result,s=0;s<t.length;s+=3)o=t[s],i=t[s+n],o?B(n,o,i,r):i(r);e._subscribers.length=0}}function B(e,t,n,o){var i=c(n),r=void 0,s=void 0,a=void 0,d=void 0;if(i){if((r=function(e,t){try{return e(t)}catch(e){return S.error=e,S}}(n,o))===S?(d=!0,s=r.error,r.error=null):a=!0,t===r)return void L(t,new TypeError("A promises callback cannot return that same promise."))}else r=o,a=!0;t._state!==A||(i&&a?k(t,r):d?L(t,s):e===T?C(t,r):e===D&&L(t,r))}var M=0;function N(e){e[E]=M++,e._state=void 0,e._result=void 0,e._subscribers=[]}var U=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[E]||N(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===A&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===_){var i=R(t);if(i===b&&t._state!==A)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===G){var r=new n(w);x(r,t,i),this._willSettleAt(r,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(o(t),e)},e.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===A&&(this._remaining--,e===D?L(o,n):this._result[t]=n),0===this._remaining&&C(o,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;P(e,void 0,function(e){return n._settledAt(T,t,e)},function(e){return n._settledAt(D,t,e)})},e}();var G=function(){function t(e){this[E]=M++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(t,e){try{e(function(e){k(t,e)},function(e){L(t,e)})}catch(e){L(t,e)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return c(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return G.prototype.then=b,G.all=function(e){return new U(this,e).promise},G.race=function(i){var r=this;return n(i)?new r(function(e,t){for(var n=i.length,o=0;o<n;o++)r.resolve(i[o]).then(e,t)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},G.resolve=_,G.reject=function(e){var t=new this(w);return L(t,e),t},G._setScheduler=function(e){i=e},G._setAsap=function(e){a=e},G._asap=a,G.polyfill=function(){var e=void 0;if(void 0!==j)e=j;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=G},G.Promise=G},"object"==typeof o&&void 0!==n?n.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}).call(this,H("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:3}],3:[function(e,t,n){var o,i,r=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function d(t){if(o===setTimeout)return setTimeout(t,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:s}catch(e){o=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var c,l=[],u=!1,h=-1;function g(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&p())}function p(){if(!u){var e=d(g);u=!0;for(var t=l.length;t;){for(c=l,l=[];++h<t;)c&&c[h].run();h=-1,t=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||d(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],4:[function(e,t,n){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,s="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(e){return e&&DataView.prototype.isPrototypeOf(e)},d=ArrayBuffer.isView||function(e){return e&&-1<r.indexOf(Object.prototype.toString.call(e))};p.prototype.append=function(e,t){e=u(e),t=h(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[u(e)]},p.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},p.prototype.set=function(e,t){this.map[u(e)]=h(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),g(n)},p.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),g(t)},p.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),g(n)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var l=[301,302,303,307,308];w.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=w,e.fetch=function(n,i){return new Promise(function(o,e){var t=new _(n,i),r=new XMLHttpRequest;r.onload=function(){var e,i,t={status:r.status,statusText:r.statusText,headers:(e=r.getAllResponseHeaders()||"",i=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var o=t.join(":").trim();i.append(n,o)}}),i)};t.url="responseURL"in r?r.responseURL:t.headers.get("X-Request-URL");var n="response"in r?r.response:r.responseText;o(new w(n,t))},r.onerror=function(){e(new TypeError("Network request failed"))},r.ontimeout=function(){e(new TypeError("Network request failed"))},r.open(t.method,t.url,!0),"include"===t.credentials?r.withCredentials=!0:"omit"===t.credentials&&(r.withCredentials=!1),"responseType"in r&&s&&(r.responseType="blob"),t.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send(void 0===t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function g(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function p(t){this.map={},t instanceof p?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function m(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function v(e){var t=new FileReader,n=m(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(s&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&s&&a(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!d(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,o=f(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=m(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,o,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),-1<c.indexOf(o)?o:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var i=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),o=t.join("=").replace(/\+/g," ");i.append(decodeURIComponent(n),decodeURIComponent(o))}}),i}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},{}],5:[function(e,t,n){t.exports={name:"@gamedistribution.com/html5-sdk",version:"1.2.3",author:"GameDistribution.com",description:"GameDistribution.com HTML5 SDK",url:"https://gamedistribution.com",license:"MIT",main:"lib/main.js",scripts:{test:'echo "Error: no test specified" && exit 1'},directories:{doc:"https://github.com/GameDistribution/GD-HTML5/wiki"},repository:{type:"git",url:"git@github.com:GameDistribution/GD-HTML5.git"},dependencies:{"es6-promise":"^4.1.1","whatwg-fetch":"^2.0.3"},devDependencies:{"babel-eslint":"^8.0.0","babel-preset-env":"^1.6.1",babelify:"^7.2.0",eslint:"^4.7.0","eslint-config-google":"^0.9.1","eslint-friendly-formatter":"^3.0.0","eslint-loader":"^1.7.1","eslint-plugin-html":"^3.0.0","eslint-plugin-promise":"^3.4.0","eslint-plugin-standard":"^2.0.1",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-browser-sync":"^2.2.0","grunt-browserify":"^5.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^3.1.0","grunt-contrib-watch":"^1.0.0","grunt-exec":"^3.0.0","grunt-google-cloud":"^1.0.7"},engines:{node:">=6.4.1"}}},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();var i=null,r=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i)return i;(i=this).listeners={}}return o(e,[{key:"_getListenerIdx",value:function(e,t,n){var o=this.listeners[e],i=void 0,r=-1;if(!o||0===o.length)return r;for(i=0;i<o.length;i++)if(o[i].callback===t&&(!n||n===o[i].scope)){r=i;break}return r}},{key:"subscribe",value:function(e,t,n){var o;if(!e)throw new Error("Event name cannot be null or undefined.");if(!t||"function"!=typeof t)throw new Error("Listener must be of type function.");0<=this._getListenerIdx(e,t,n)||(o={callback:t,scope:n},this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(o))}},{key:"broadcast",value:function(e,t){var n=this.listeners[e];e&&this.listeners[e]&&(t=t||{},n.forEach(function(e){e.callback.call(e.scope,t)}))}}]),e}();n.default=r},{}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("../components/EventBus"),s=(o=r)&&o.__esModule?o:{default:o};var a=null,d=function(){function t(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a)return a;(a=this).testing=e,this.eventBus=new s.default}return i(t,[{key:"start",value:function(){var e="\n            #gdsdk__implementation {\n                display: flex;\n                box-sizing: border-box;\n                position: fixed;\n                z-index: 667;\n                bottom: 0;\n                left: 0;\n                width: 100%;\n                padding: 3px;\n                background: linear-gradient(90deg,#3d1b5d,#5c3997);\n                box-shadow: 0 0 8px rgba(0, 0, 0, 0.8);\n                color: #fff;\n                font-family: Helvetica, Arial, sans-serif;\n                font-size: 8px;\n            }\n            #gdsdk__implementation button {\n                flex: 1;\n                background: #44a5ab;\n                padding: 3px 10px;\n                margin: 2px;\n                border: 0;\n                border-radius: 3px;\n                color: #fff;\n                outline: 0;\n                cursor: pointer;\n                font-size: 8px;\n                box-shadow: 0 0 0 transparent;\n                text-shadow: 0 0 0 transparent;\n                text-overflow: ellipsis;\n                overflow: hidden;\n                white-space: nowrap;\n            }\n            #gdsdk__implementation button:hover {\n                background: #4fb3b9;\n            }\n            #gdsdk__implementation button:active {\n                background: #62bbc0;\n            }\n        ",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n);var o=document.body||document.getElementsByTagName("body")[0],i=document.createElement("div");i.style.position="fixed",i.style.zIndex="668",i.style.bottom="0",i.innerHTML='\n            <div id="gdsdk__implementation">\n                <button id="gdsdk__hbgdDebug">Activate hbgd debug</button>\n                <button id="gdsdk__hbgdConfig">Log idhbgd config</button>\n                <button id="gdsdk__resumeGame">resumeGame</button>\n                <button id="gdsdk__pauseGame">pauseGame</button>\n                <button id="gdsdk__showBanner">showBanner()</button>\n                <button id="gdsdk__cancel">Cancel</button>\n                <button id="gdsdk__demo">Demo VAST tag</button>\n                <button id="gdsdk__midrollTimer">Disable delay</button>\n                <button id="gdsdk__closeDebug">Close</button>\n            </div>\n        ',o.appendChild(i);var r=document.getElementById("gdsdk__pauseGame"),s=document.getElementById("gdsdk__resumeGame"),a=document.getElementById("gdsdk__showBanner"),d=document.getElementById("gdsdk__cancel"),c=document.getElementById("gdsdk__demo"),l=document.getElementById("gdsdk__midrollTimer"),u=document.getElementById("gdsdk__hbgdDebug"),h=document.getElementById("gdsdk__hbgdConfig"),g=document.getElementById("gdsdk__closeDebug");localStorage.getItem("gd_tag")?(c.innerHTML="Revert Vast tag",c.style.background="#ff8c1c"):(c.innerHTML="Demo VAST tag",c.style.background="#44a5ab"),localStorage.getItem("gd_midroll")?(l.innerHTML="Revert delay",l.style.background="#ff8c1c"):(l.innerHTML="Disable delay",l.style.background="#44a5ab"),r.addEventListener("click",function(){window.gdsdk.onPauseGame("Pause game requested from debugger","warning")}),s.addEventListener("click",function(){window.gdsdk.onResumeGame("Resume game requested from debugger","warning")}),a.addEventListener("click",function(){window.gdsdk.showBanner()}),d.addEventListener("click",function(){window.gdsdk.videoAdInstance.requestAttempts=0,window.gdsdk.videoAdInstance.cancel()}),c.addEventListener("click",function(){try{if(localStorage.getItem("gd_tag"))localStorage.removeItem("gd_tag");else{localStorage.setItem("gd_tag","https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=")}location.reload()}catch(e){console.log(e)}}),l.addEventListener("click",function(){try{localStorage.getItem("gd_midroll")?localStorage.removeItem("gd_midroll"):localStorage.setItem("gd_midroll","0"),location.reload()}catch(e){console.log(e)}}),g.addEventListener("click",function(){try{localStorage.getItem("gd_debug")?localStorage.removeItem("gd_debug"):localStorage.setItem("gd_debug","0"),location.reload()}catch(e){console.log(e)}}),u.addEventListener("click",function(){try{window.idhbgd.debug(!0)}catch(e){console.log(e)}}),h.addEventListener("click",function(){try{var e=window.idhbgd.getConfig();console.info(e)}catch(e){console.log(e)}})}}]),t}();n.default=d},{"../components/EventBus":6}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o,i=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}(),r=e("../components/EventBus"),d=(o=r)&&o.__esModule?o:{default:o},u=e("../modules/common"),c=e("../modules/dankLog");var l=null,s=function(){function a(e,t,n){var o=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),l)return l;var i={debug:!1,width:640,height:360,locale:"en"};(l=this).options=n?(0,u.extendDefaults)(i,n):i,this.prefix="gdsdk__",this.adsLoader=null,this.adsManager=null,this.adDisplayContainer=null,this.eventBus=new d.default,this.safetyTimer=null,this.containerTransitionSpeed=300,this.adCount=0,this.adTypeCount=0,this.requestRunning=!1,this.parentDomain=(0,u.getParentDomain)(),this.parentUrl=(0,u.getParentUrl)(),this.thirdPartyContainer=""!==e?document.getElementById(e):null,this.options.width="number"==typeof this.options.width?this.options.width:"100%"===this.options.width?640:this.options.width.replace(/[^0-9]/g,""),this.options.height="number"==typeof this.options.height?this.options.height:"100%"===this.options.height?360:this.options.height.replace(/[^0-9]/g,"");var r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.options.width=this.thirdPartyContainer?this.thirdPartyContainer.offsetWidth:r,this.options.height=this.thirdPartyContainer?this.thirdPartyContainer.offsetHeight:s,this.gameId="0",this.category="",this.tags=[],this.eventCategory="AD",this.adsLoaderPromise=new Promise(function(e,t){o.eventBus.subscribe("AD_SDK_LOADER_READY",function(){return e()}),o.eventBus.subscribe("AD_CANCELED",function(){return t(new Error("Initial adsLoaderPromise failed to load."))})}),this._loadScripts().then(function(){o._createPlayer(),o._setUpIMA()}).catch(function(e){return o.onError(e)}),window.idhbgd=window.idhbgd||{},window.idhbgd.que=window.idhbgd.que||[]}return i(a,[{key:"start",value:function(){var e=this;this._startSafetyTimer(12e3,"start()"),this.eventBus.subscribe("AD_SDK_LOADER_READY",function(){e._clearSafetyTimer("AD_SDK_LOADER_READY")}),this.eventBus.subscribe("AD_SDK_MANAGER_READY",function(){e._clearSafetyTimer("AD_SDK_MANAGER_READY")}),this.eventBus.subscribe("LOADED",function(){e._clearSafetyTimer("LOADED"),e._startSafetyTimer(8e3,"LOADED")}),this.eventBus.subscribe("CONTENT_PAUSE_REQUESTED",function(){e._show()}),this.eventBus.subscribe("STARTED",function(){e._clearSafetyTimer("STARTED")})}},{key:"requestAd",value:function(){var i=this;return new Promise(function(n,o){if(i.requestRunning)(0,c.dankLog)("AD_SDK_REQUEST","A request is already running","warning");else{i.requestRunning=!0,1===i.adTypeCount&&(i.adCount=0),i.adCount++,i.adTypeCount++;try{localStorage.getItem("gd_debug")&&localStorage.getItem("gd_tag")?n(localStorage.getItem("gd_tag")):i._tunnlReportingKeys().then(function(e){void 0===window.idhbgd.requestAds&&o("Prebid.js wrapper script hit an error or didn't exist!");var t=(e.nsid?e.nsid:"TNL_T-17102571517")+"/"+(e.tid?e.tid:"TNL_NS-18101700058");delete e.nsid,delete e.tid,(0,c.dankLog)("AD_SDK_AD_UNIT",t,"info"),Object.assign(e,{tnl_system:"1",tnl_content_category:i.category.toLowerCase()}),void 0!==window.ga&&window.ga("gd.send",{hitType:"event",eventCategory:"AD_REQUEST",eventAction:i.parentDomain,eventLabel:t}),window.idhbgd.que.push(function(){window.idhbgd.setAdserverTargeting(e),window.idhbgd.setDfpAdUnitCode(t),window.idhbgd.requestAds({callback:function(e){n(e)}})})}).catch(function(e){console.log(e),o(e)})}catch(e){o(e)}}})}},{key:"_tunnlReportingKeys",value:function(){var l=this;return new Promise(function(n){var e="";e=!navigator.userAgent.match(/Crosswalk/i)&&void 0===window.cordova||"m.hopy.com"!==u.getParentDomain?"page_url="+encodeURIComponent(l.parentUrl):"bundle=com.hopy.frivgames";var t=(0,u.getMobilePlatform)(),o=1===l.adTypeCount?"preroll1":"midroll"+l.adCount.toString(),i=(0,u.getQueryString)("ch",window.location.href),r=(0,u.getQueryString)("ch_date",window.location.href),s=i?"&ch="+i:"",a=r?"&ch_date="+r:"",d="https://pub.tunnl.com/opp?"+e+"&player_width="+l.options.width+"&player_height="+l.options.height+"&ad_type=video_image&os="+t+"&game_id="+l.gameId+"&ad_position="+o+s+a+"&hb=on&correlator="+Date.now(),c=new Request(d,{method:"GET"});fetch(c).then(function(e){var t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json"))return e.json();throw new TypeError("Oops, we didn't get JSON!")}).then(function(e){return n(e)}).catch(function(e){console.log(e);var t={tid:"TNL_T-17102571517",nsid:"TNL_NS-18101700058",tnl_tid:"T-17102571517",tnl_nsid:"NS-18101700058",tnl_pw:l.options.width,tnl_ph:l.options.height,tnl_pt:"22",tnl_pid:"P-17101800031",tnl_paid:"17",tnl_ad_type:"video_image",tnl_asset_id:l.gameId.toString(),tnl_ad_pos:o,tnl_skippable:"1",tnl_cp1:"",tnl_cp2:"",tnl_cp3:"",tnl_cp4:"",tnl_cp5:"",tnl_cp6:"",tnl_campaign:"2",tnl_gdpr:"0",tnl_gdpr_consent:"1",consent_string:"BOWJjG9OWJjG9CLAAAENBx-AAAAiDAAA",tnl_content_category:l.category.toLowerCase()};void 0!==window.ga&&window.ga("gd.send",{hitType:"event",eventCategory:"AD_REQUEST_FALLBACK",eventAction:l.parentUrl,eventLabel:e}),n(t)})})}},{key:"loadAd",value:function(e){if("undefined"!=typeof google)try{var t=new google.ima.AdsRequest;if(t.adTagUrl=e,(0,c.dankLog)("AD_SDK_TAG_URL",t.adTagUrl,"success"),t.linearAdSlotWidth=this.options.width,t.linearAdSlotHeight=this.options.height,t.nonLinearAdSlotWidth=this.options.width,t.nonLinearAdSlotHeight=this.options.height,t.forceNonLinearFullSlot=!0,void 0!==window.ga){var n=new Date,o=n.getHours(),i=n.getDate(),r=n.getMonth(),s=n.getFullYear();window.ga("gd.send",{hitType:"event",eventCategory:1===this.adTypeCount?"AD_PREROLL":"AD_MIDROLL",eventAction:this.parentDomain+" | h"+o+" d"+i+" m"+r+" y"+s,eventLabel:e})}this.adsLoader.requestAds(t)}catch(e){this._onAdError(e)}else this.onError("Unable to load ad, google IMA SDK not defined.")}},{key:"cancel",value:function(){var e=this;this.adsLoaderPromise.then(function(){e.adsLoader&&e.adsLoader.contentComplete(),e.adsManager&&e.adsManager.destroy(),e._hide(),e.requestRunning=!1}).catch(function(){console.log(new Error("adsLoaderPromise failed to load."))});var t="AD_CANCELED";this.eventBus.broadcast(t,{name:t,message:"Advertisement has been canceled.",status:"warning",analytics:{category:this.eventCategory,action:t,label:this.gameId}})}},{key:"onError",value:function(e){var t="AD_SDK_ERROR";this.eventBus.broadcast(t,{name:t,message:e,status:"error",analytics:{category:this.eventCategory,action:t,label:e}}),this.cancel(),this._clearSafetyTimer("AD_SDK_ERROR")}},{key:"_hide",value:function(){var e=this;this.adContainer&&(this.adContainer.style.opacity="0",this.thirdPartyContainer&&(this.thirdPartyContainer.style.opacity="0"),setTimeout(function(){e.adContainer.style.transform="translateX(-9999px)",e.adContainer.style.zIndex="0",e.thirdPartyContainer&&(e.thirdPartyContainer.style.transform="translateX(-9999px)",e.thirdPartyContainer.style.zIndex="0")},this.containerTransitionSpeed))}},{key:"_show",value:function(){var e=this;this.adContainer&&(this.adContainer.style.transform="translateX(0)",this.adContainer.style.zIndex="99",this.thirdPartyContainer&&(this.thirdPartyContainer.style.transform="translateX(0)",this.thirdPartyContainer.style.zIndex="99",this.thirdPartyContainer.style.display="block"),setTimeout(function(){e.adContainer.style.opacity="1",e.thirdPartyContainer&&(e.thirdPartyContainer.style.opacity="1")},10))}},{key:"_loadScripts",value:function(){var r=this,e=new Promise(function(e,t){var n=r.options.debug?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js",o=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=function(){e()},i.onerror=function(){t("IMA script failed to load! Probably due to an ADBLOCKER!")},o.parentNode.insertBefore(i,o)}),t=new Promise(function(e,t){var n=r.options.debug?"https://test-hb.improvedigital.com/pbw/gameDistribution.min.js":"https://hb.improvedigital.com/pbw/gameDistribution.min.js",o=document.getElementsByTagName("script")[0],i=document.createElement("script");i.type="text/javascript",i.id="idhbgd",i.async=!0,i.src=n,i.onload=function(){e()},i.onerror=function(){t("Prebid.js failed to load! Probably due to an ADBLOCKER!")},o.parentNode.insertBefore(i,o)});return Promise.all([e,t])}},{key:"_createPlayer",value:function(){var n=this,e=document.body||document.getElementsByTagName("body")[0];this.adContainer=document.createElement("div"),this.adContainer.id=this.prefix+"advertisement",this.adContainer.style.position=this.thirdPartyContainer?"absolute":"fixed",this.adContainer.style.zIndex="0",this.adContainer.style.top="0",this.adContainer.style.left="0",this.adContainer.style.width="100%",this.adContainer.style.height="100%",this.adContainer.style.transform="translateX(-9999px)",this.adContainer.style.backgroundColor="rgba(0, 0, 0, 0.8)",this.adContainer.style.opacity="0",this.adContainer.style.transition="opacity "+this.containerTransitionSpeed+"ms cubic-bezier(0.55, 0, 0.1, 1)",this.thirdPartyContainer&&(this.thirdPartyContainer.style.transform="translateX(-9999px)",this.thirdPartyContainer.style.opacity="0",this.thirdPartyContainer.style.transition="opacity "+this.containerTransitionSpeed+"ms cubic-bezier(0.55, 0, 0.1, 1)");var o=document.createElement("div");o.id=this.prefix+"advertisement_slot",o.style.position="absolute",o.style.backgroundColor="#000000",o.style.top="0",o.style.left="0",o.style.width=this.options.width+"px",o.style.height=this.options.height+"px",this.thirdPartyContainer?(this.adContainer.appendChild(o),this.thirdPartyContainer.appendChild(this.adContainer)):(this.adContainer.appendChild(o),e.appendChild(this.adContainer)),window.addEventListener("resize",function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;n.options.width=n.thirdPartyContainer?n.thirdPartyContainer.offsetWidth:e,n.options.height=n.thirdPartyContainer?n.thirdPartyContainer.offsetHeight:t,o.style.width=n.options.width+"px",o.style.height=n.options.height+"px"})}},{key:"_setUpIMA",value:function(){google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),google.ima.settings.setLocale(this.options.locale),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.adDisplayContainer=new google.ima.AdDisplayContainer(document.getElementById(this.prefix+"advertisement_slot")),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this._onAdsManagerLoaded,!1,this),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdError,!1,this);var e=new Date,t=e.getHours(),n=e.getDate(),o=e.getMonth(),i=e.getFullYear(),r="AD_SDK_LOADER_READY";this.eventBus.broadcast(r,{name:r,message:this.options,status:"success",analytics:{category:r,action:this.parentDomain,label:"h"+t+" d"+n+" m"+o+" y"+i}})}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,n=new google.ima.AdsRenderingSettings;if(n.enablePreloading=!0,n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.uiElements=[google.ima.UiElements.AD_ATTRIBUTION,google.ima.UiElements.COUNTDOWN],this.adsManager=e.getAdsManager(n),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this._onAdError.bind(this),!1,this),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.INTERACTION,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,this._onAdEvent.bind(this),this),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,this._onAdEvent.bind(this),this),window.addEventListener("resize",function(){t.adsManager.resize(t.options.width,t.options.height,google.ima.ViewMode.NORMAL)}),this.adsManager&&this.adDisplayContainer){var o=new Date,i=o.getHours(),r=o.getDate(),s=o.getMonth(),a=o.getFullYear(),d="AD_SDK_MANAGER_READY";this.eventBus.broadcast(d,{name:d,message:this.adsManager,status:"success",analytics:{category:d,action:this.parentDomain,label:"h"+i+" d"+r+" m"+s+" y"+a}}),this.adDisplayContainer.initialize();try{this.adsManager.init(this.options.width,this.options.height,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(e){this.onError(e)}}}},{key:"_onAdEvent",value:function(e){var o=this,t=new Date,i=t.getHours(),r=t.getDate(),s=t.getMonth(),a=t.getFullYear(),n="",d="";switch(e.type){case google.ima.AdEvent.Type.AD_BREAK_READY:n="AD_BREAK_READY",d="Fired when an ad rule or a VMAP ad break would have played if autoPlayAdBreaks is false.";break;case google.ima.AdEvent.Type.AD_METADATA:n="AD_METADATA",d="Fired when an ads list is loaded.";break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:n="ALL_ADS_COMPLETED",d="Fired when the ads manager is done playing all the ads.";break;case google.ima.AdEvent.Type.CLICK:n="CLICK",d="Fired when the ad is clicked.";break;case google.ima.AdEvent.Type.COMPLETE:n="COMPLETE",d="Fired when the ad completes playing.";break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:n="CONTENT_PAUSE_REQUESTED",d="Fired when content should be paused. This usually happens right before an ad is about to cover the content.";break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:n="CONTENT_RESUME_REQUESTED",d="Fired when content should be resumed. This usually happens when an ad finishes or collapses.",this._hide(),this.adsLoaderPromise.then(function(){if(o.adsLoader&&o.adsLoader.contentComplete(),o.adsManager&&o.adsManager.destroy(),1===o.adCount){var t=[];o.tags.forEach(function(e){t.push(e.title.toLowerCase())});var e=o.category.toLowerCase();o._loadDisplayAd(o.gameId,t,e)}o.requestRunning=!1;var n="AD_SDK_FINISHED";o.eventBus.broadcast(n,{name:n,message:"IMA is ready for new requests.",status:"success",analytics:{category:n,action:o.parentDomain,label:"h"+i+" d"+r+" m"+s+" y"+a}})}).catch(function(){console.log(new Error("adsLoaderPromise failed to load."))});break;case google.ima.AdEvent.Type.DURATION_CHANGE:n="DURATION_CHANGE",d="Fired when the ad's duration changes.";break;case google.ima.AdEvent.Type.FIRST_QUARTILE:n="FIRST_QUARTILE",d="Fired when the ad playhead crosses first quartile.";break;case google.ima.AdEvent.Type.IMPRESSION:n="IMPRESSION",d="Fired when the impression URL has been pinged.";try{if(void 0!==window.pbjsgd){var c=window.pbjsgd.getHighestCpmBids();this.options.debug&&console.log("Winner(s)",c),0<c.length?c.forEach(function(e){void 0!==window.ga&&e.bidder&&window.ga("gd.send",{hitType:"event",eventCategory:"IMPRESSION_"+e.bidder.toUpperCase(),eventAction:o.parentDomain,eventLabel:"h"+i+" d"+r+" m"+s+" y"+a})}):void 0!==window.ga&&window.ga("gd.send",{hitType:"event",eventCategory:"IMPRESSION_ADEXCHANGE",eventAction:this.parentDomain,eventLabel:"h"+i+" d"+r+" m"+s+" y"+a})}}catch(e){console.log(e)}break;case google.ima.AdEvent.Type.INTERACTION:n="INTERACTION",d="Fired when an ad triggers the interaction callback. Ad interactions contain an interaction ID string in the ad data.";break;case google.ima.AdEvent.Type.LINEAR_CHANGED:n="LINEAR_CHANGED",d="Fired when the displayed ad changes from linear to nonlinear, or vice versa.";break;case google.ima.AdEvent.Type.LOADED:n="LOADED",d=e.getAd().getContentType();break;case google.ima.AdEvent.Type.LOG:e.getAdData().adError&&(n="LOG",d=e.getAdData());break;case google.ima.AdEvent.Type.MIDPOINT:n="MIDPOINT",d="Fired when the ad playhead crosses midpoint.";break;case google.ima.AdEvent.Type.PAUSED:n="PAUSED",d="Fired when the ad is paused.";break;case google.ima.AdEvent.Type.RESUMED:n="RESUMED",d="Fired when the ad is resumed.";break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:n="SKIPPABLE_STATE_CHANGED",d="Fired when the displayed ads skippable state is changed.";break;case google.ima.AdEvent.Type.SKIPPED:n="SKIPPED",d="Fired when the ad is skipped by the user.";break;case google.ima.AdEvent.Type.STARTED:n="STARTED",d="Fired when the ad starts playing.";break;case google.ima.AdEvent.Type.THIRD_QUARTILE:n="THIRD_QUARTILE",d="Fired when the ad playhead crosses third quartile.";break;case google.ima.AdEvent.Type.USER_CLOSE:n="USER_CLOSE",d="Fired when the ad is closed by the user.";break;case google.ima.AdEvent.Type.VOLUME_CHANGED:n="VOLUME_CHANGED",d="Fired when the ad volume has changed.";break;case google.ima.AdEvent.Type.VOLUME_MUTED:n="VOLUME_MUTED",d="Fired when the ad volume has been muted."}""!==n&&""!==d&&this.eventBus.broadcast(n,{name:n,message:d,status:"success",analytics:{category:n,action:this.parentDomain,label:"h"+i+" d"+r+" m"+s+" y"+a}})}},{key:"_onAdError",value:function(o){this.cancel(),this._clearSafetyTimer("AD_ERROR");try{if(void 0!==window.ga){var e="AD_ERROR",t=o.getError().getMessage();this.eventBus.broadcast(e,{name:e,message:t,status:"warning",analytics:{category:e,action:o.getError().getErrorCode().toString()||o.getError().getVastErrorCode().toString(),label:t}})}if(void 0!==window.pbjsgd){var n=window.pbjsgd.getHighestCpmBids();this.options.debug&&console.log("Failed winner(s) ",n),0<n.length?n.forEach(function(e){var t=e.adId?e.adId:null,n=e.creativeId?e.creativeId:null;void 0!==window.ga&&e.bidder&&window.ga("gd.send",{hitType:"event",eventCategory:"AD_ERROR_"+e.bidder.toUpperCase(),eventAction:o.getError().getErrorCode().toString()||o.getError().getVastErrorCode().toString(),eventLabel:t+" | "+n})}):void 0!==window.ga&&window.ga("gd.send",{hitType:"event",eventCategory:"AD_ERROR_ADEXCHANGE",eventAction:o.getError().getErrorCode().toString()||o.getError().getVastErrorCode().toString(),eventLabel:o.getError().getMessage()})}}catch(e){console.log(e)}}},{key:"_startSafetyTimer",value:function(e,t){var n=this;(0,c.dankLog)("AD_SAFETY_TIMER","Invoked timer from: "+t,"success"),this.safetyTimer=window.setTimeout(function(){var e="AD_SAFETY_TIMER";n.eventBus.broadcast(e,{name:e,message:"Advertisement took too long to load.",status:"warning",analytics:{category:n.eventCategory,action:e,label:n.gameId}}),n.cancel(),n._clearSafetyTimer(t)},e)}},{key:"_clearSafetyTimer",value:function(e){if(void 0!==this.safetyTimer&&null!==this.safetyTimer&&((0,c.dankLog)("AD_SAFETY_TIMER","Cleared timer set at: "+e,"success"),clearTimeout(this.safetyTimer),this.safetyTimer=void 0,"requestAd()"===e)){var t=new Date,n=t.getHours(),o=t.getDate(),i=t.getMonth(),r=t.getFullYear();void 0!==window.ga&&window.ga("gd.send",{hitType:"event",eventCategory:"AD_SDK_AD_REQUEST_ERROR",eventAction:"h"+n+" d"+o+" m"+i+" y"+r})}}},{key:"_loadDisplayAd",value:function(t,n,o){var i=this,e=document.body||document.getElementsByTagName("body")[0],r=document.createElement("div");r.id=this.prefix+"baguette",r.style.zIndex="100",r.style.position="absolute",r.style.top="0",r.style.left="0",e.appendChild(r);var s=document.createElement("script");s.async=!0,s.type="text/javascript";var a="https:"===document.location.protocol;s.src=(a?"https:":"http:")+"//www.googletagservices.com/tag/js/gpt.js";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(s,d),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){var e=[];e[0]=googletag.defineSlot("/1015413/Gamedistribution_ingame_1x1_crosspromo",[1,1],i.prefix+"baguette").setCollapseEmptyDiv(!0,!0).addService(googletag.pubads()),googletag.pubads().setTargeting("crossid",t),googletag.pubads().setTargeting("crosstags",n),googletag.pubads().setTargeting("crosscategory",o),googletag.pubads().disableInitialLoad(),googletag.enableServices(),googletag.display(i.prefix+"baguette"),googletag.pubads().refresh([e[0]])})}}]),a}();n.default=s},{"../components/EventBus":6,"../modules/common":11,"../modules/dankLog":12}],9:[function(e,t,n){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("./main"),s=(o=r)&&o.__esModule?o:{default:o};var a="object"===("undefined"==typeof GD_OPTIONS?"undefined":i(GD_OPTIONS))&&GD_OPTIONS?GD_OPTIONS:window.gdApi&&"object"===i(window.gdApi.q[0][0])&&window.gdApi.q[0][0]?window.gdApi.q[0][0]:{};window.gdApi&&"object"===i(window.gdApi.q[0][0])&&window.gdApi.q[0][0]&&(a.hasOwnProperty("advertisementSettings")||(a.advertisementSettings={autoplay:!0})),window.gdsdk=new s.default(a),window.gdApi=window.gdsdk},{"./main":10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();e("es6-promise/auto"),e("whatwg-fetch");var u=r(e("../package.json")),h=r(e("./components/VideoAd")),g=r(e("./components/EventBus")),i=r(e("./components/ImplementationTest")),p=e("./modules/dankLog"),f=e("./modules/common");function r(e){return e&&e.__esModule?e:{default:e}}var m=null,s=function(){function l(e){var i=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),m)return m;var t={debug:!1,testing:!1,gameId:"4f3d7d38d24b740c95da2b03dc3a2333",prefix:"gdsdk__",flashSettings:{adContainerId:"",splashContainerId:""},advertisementSettings:{},resumeGame:function(){},pauseGame:function(){},onEvent:function(e){},onInit:function(e){},onError:function(e){}};(m=this).options=e?(0,f.extendDefaults)(t,e):t;var n=u.default.version,o=console.log("%c %c %c GameDistribution.com HTML5 SDK | Version: "+n+" %c %c %c","background: #9854d8","background: #6c2ca7","color: #fff; background: #450f78;","background: #6c2ca7","background: #9854d8","background: #ffffff");console.log.apply(console,o);var r=(0,f.getParentUrl)(),s=(0,f.getParentDomain)(),a=0<=document.location.search.indexOf("gdpr-tracking=1")||0<document.cookie.indexOf("ogdpr_tracking=1");this._analytics(a);if(-1<[].indexOf(s))return void 0!==window.ga&&window.ga("gd.send",{hitType:"event",eventCategory:"SDK_BLOCKED",eventAction:s,eventLabel:this.options.gameId+""}),void(document.location="https://html5.api.gamedistribution.com/blocked.html");this.options.testing=this.options.testing||-1<[].indexOf(s),this.options.testing&&(0,p.dankLog)("SDK_TESTING_ENABLED",this.options.testing,"info"),this.whitelabelPartner=!1;var d=(0,f.getQueryParams)("xanthophyll");d.hasOwnProperty("xanthophyll")&&"true"===d.xanthophyll&&(this.whitelabelPartner=!0,(0,p.dankLog)("SDK_WHITELABEL",this.whitelabelPartner,"success"));try{if("developer.gamedistribution.com"===s){localStorage.setItem("gd_debug","true"),localStorage.setItem("gd_midroll","0");localStorage.setItem("gd_tag","https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=")}else"html5.api.gamedistribution.com"!==s&&"localhost:3000"!==s||(localStorage.setItem("gd_debug","true"),localStorage.setItem("gd_midroll","0"));localStorage.getItem("gd_debug")&&this.openConsole()}catch(e){console.log(e)}(new Image).src="https://ana.tunnl.com/event?page_url="+encodeURIComponent(r)+"&game_id="+this.options.gameId+"&eventtype=1",this.eventBus=new g.default,this.eventBus.gameId=this.options.gameId+"",this.eventBus.subscribe("SDK_BLOCKED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_READY",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_ERROR",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_GAME_DATA_READY",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_GAME_START",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_GAME_PAUSE",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_GDPR_TRACKING",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_GDPR_TARGETING",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SDK_GDPR_THIRD_PARTY",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_SDK_LOADER_READY",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_SDK_MANAGER_READY",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_SDK_REQUEST_ADS",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_SDK_ERROR",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_SDK_FINISHED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_CANCELED",function(e){i._onEvent(e),i.onResumeGame("Advertisement error, no worries, start / resume the game.","warning")}),this.eventBus.subscribe("AD_ERROR",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_SAFETY_TIMER",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_BREAK_READY",function(e){return i._onEvent(e)}),this.eventBus.subscribe("AD_METADATA",function(e){return i._onEvent(e)}),this.eventBus.subscribe("ALL_ADS_COMPLETED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("CLICK",function(e){return i._onEvent(e)}),this.eventBus.subscribe("COMPLETE",function(e){return i._onEvent(e)}),this.eventBus.subscribe("CONTENT_PAUSE_REQUESTED",function(e){i._onEvent(e),i.onPauseGame("New advertisements requested and loaded","success")}),this.eventBus.subscribe("CONTENT_RESUME_REQUESTED",function(e){if(i._onEvent(e),i.onResumeGame("Advertisement(s) are done. Start / resume the game.","success"),"developer.gamedistribution.com"===s||!0===new RegExp("^localhost").test(s)){(new Image).src="https://game.api.gamedistribution.com/game/hasapi/"+i.options.gameId;try{var t=JSON.stringify({type:"GD_SDK_IMPLEMENTED",gameID:i.options.gameId});window.location!==window.top.location?window.top.postMessage(t,"*"):null!==window.opener&&window.opener.location!==window.location&&window.opener.postMessage(t,"*")}catch(e){}}}),this.eventBus.subscribe("DURATION_CHANGE",function(e){return i._onEvent(e)}),this.eventBus.subscribe("FIRST_QUARTILE",function(e){return i._onEvent(e)}),this.eventBus.subscribe("IMPRESSION",function(e){return i._onEvent(e)}),this.eventBus.subscribe("INTERACTION",function(e){return i._onEvent(e)}),this.eventBus.subscribe("LINEAR_CHANGED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("LOADED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("LOG",function(e){return i._onEvent(e)}),this.eventBus.subscribe("MIDPOINT",function(e){return i._onEvent(e)}),this.eventBus.subscribe("PAUSED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("RESUMED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SKIPPABLE_STATE_CHANGED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("SKIPPED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("STARTED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("THIRD_QUARTILE",function(e){return i._onEvent(e)}),this.eventBus.subscribe("USER_CLOSE",function(e){return i._onEvent(e)}),this.eventBus.subscribe("VOLUME_CHANGED",function(e){return i._onEvent(e)}),this.eventBus.subscribe("VOLUME_MUTED",function(e){return i._onEvent(e)}),this._gdpr(s),this.adRequestTimer=void 0,this.videoAdInstance=new h.default(this.options.flashSettings.adContainerId,this.options.prefix,this.options.advertisementSettings);var c=new Promise(function(n){var o={gameId:i.options.gameId?i.options.gameId+"":"49258a0e497c42b5b5d87887f24d27a6",advertisements:!0,preroll:!0,midroll:12e4,title:"",tags:[],category:"",assets:[]},e="https://game.api.gamedistribution.com/game/get/"+o.gameId.replace(/-/g,"")+"/?domain="+s,t=new Request(e,{method:"GET"});fetch(t).then(function(e){var t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json"))return e.json();throw new TypeError("Oops, we didn't get JSON!")}).then(function(e){if(e.error)(0,p.dankLog)("SDK_GAME_DATA_READY",e.error,"warning");else if(e.success){var t={gameId:e.result.game.gameMd5,advertisements:e.result.game.enableAds,preroll:e.result.game.preRoll,midroll:6e4*e.result.game.timeAds,title:e.result.game.title,tags:e.result.game.tags,category:e.result.game.category,assets:e.result.game.assets};o=(0,f.extendDefaults)(o,t);-1<["y8.com","pog.com","dollmania.com"].indexOf(s)?o.midroll=3e5:-1<["patiencespel.net","mahjongspielen.at","mahjongspel.co"].indexOf(s)&&(o.midroll=6e4),(0,p.dankLog)("SDK_GAME_DATA_READY",o,"success")}n(o)}).catch(function(e){(0,p.dankLog)("SDK_GAME_DATA_READY",e,"success"),n(o)})});c.then(function(e){i.videoAdInstance.gameId=e.gameId,i.videoAdInstance.category=e.category,i.videoAdInstance.tags=e.tags;try{localStorage.getItem("gd_debug")&&(localStorage.getItem("gd_tag")&&(i.videoAdInstance.tag=localStorage.getItem("gd_tag")),localStorage.getItem("gd_midroll")&&(e.midroll=localStorage.getItem("gd_midroll")))}catch(e){console.log(e)}if(e.advertisements){var t=-1<["gry.pl","oyunskor.com","juegos.com","a10.com","girlsgogames.com","agame.com","spelletjes.nl","jeux.fr","girlsgogames.ru","juegosdechicas.com","gioco.it","ojogos.com.br","gamesgames.com","games.co.id","jetztspielen.de","spel.nl","spela.se","jeu.fr","spielen.com","giochi.it","games.co.uk","girlsgogames.fr","ourgames.ru","flashgames.ru","girlsgogames.co.uk","girlsgogames.it","permainan.co.id","mousebreaker.com","girlsgogames.de","girlsgogames.co.id","gameplayer.io","oyunoyna.com","spilgames.com","girlsgogames.com.br","girlsgogames.se","spilcloud.com"].indexOf(s)&&document.cookie.indexOf("ogdpr_tracking=1")<0;e.preroll?(i.videoAdInstance.options.autoplay||t)&&i._createSplash(e,t):i.adRequestTimer=new Date}i.videoAdInstance.start()}).catch(function(){console.log(new Error("gameDataPromise failed to resolve."))}),this.readyPromise=Promise.all([c,this.videoAdInstance.adsLoaderPromise]).then(function(e){var t="SDK_READY",n="Everything is ready.";return i.eventBus.broadcast(t,{name:t,message:n,status:"success",analytics:{category:"SDK",action:t,label:i.options.gameId+""}}),i.options.onInit(n),e[0]}).catch(function(){var e="SDK_ERROR",t="The SDK failed.";return i.eventBus.broadcast(e,{name:e,message:t,status:"error",analytics:{category:"SDK",action:e,label:i.options.gameId+""}}),i.options.onError(t),!1})}return o(l,[{key:"_gdpr",value:function(e){var t="SDK_GDPR_TRACKING",n=0<=document.location.search.indexOf("gdpr-tracking"),o=0<=document.location.search.indexOf("gdpr-tracking=1"),i="",r="";r=n?o?(i="General Data Protection Regulation is set to allow tracking.","success"):(i="General Data Protection Regulation is set to disallow tracking.","warning"):(i="General Data Protection Regulation consent for tracking is not set by the publisher.","warning"),this.eventBus.broadcast(t,{name:t,message:i,status:r,analytics:{category:t,action:e,label:n?o?"1":"0":"not set"}});var s="SDK_GDPR_TARGETING",a=0<=document.location.search.indexOf("gdpr-targeting"),d=0<=document.location.search.indexOf("gdpr-targeting=1"),c="",l="";l=a?d?(c="General Data Protection Regulation is set to allow personalised advertisements.","success"):(c="General Data Protection Regulation is set to disallow personalised advertisements.","warning"):(c="General Data Protection Regulation consent for targeting is not set by the publisher.","warning"),this.eventBus.broadcast(s,{name:s,message:c,status:l,analytics:{category:s,action:e,label:a?d?"1":"0":"not set"}});var u="SDK_GDPR_THIRD_PARTY",h=0<=document.location.search.indexOf("gdpr-third-party"),g=0<=document.location.search.indexOf("gdpr-third-party=1"),p="",f="";f=h?g?(p="General Data Protection Regulation is set to allow third parties.","success"):(p="General Data Protection Regulation is set to disallow third parties.","warning"):(p="General Data Protection Regulation consent for third parties is not set by the publisher.","warning"),this.eventBus.broadcast(u,{name:u,message:p,status:f,analytics:{category:u,action:e,label:h?g?"1":"0":"not set"}})}},{key:"_onEvent",value:function(e){(0,p.dankLog)(e.name,e.message,e.status);try{void 0!==window.ga&&e.analytics&&window.ga("gd.send",{hitType:"event",eventCategory:e.analytics.category?e.analytics.category:"",eventAction:e.analytics.action?e.analytics.action:"",eventLabel:e.analytics.label?e.analytics.label:""})}catch(e){console.log(e)}this.options.onEvent(e)}},{key:"_analytics",value:function(e){var t,n,o,i,r;void 0===window.ga&&(t=window,n=document,o="ga",t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=n.createElement("script"),r=n.getElementsByTagName("script")[0],i.async=1,i.src="https://www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)),window.ga("create","UA-102601800-1",{name:"gd",cookieExpires:7776e3},"auto"),window.ga("gd.send","pageview"),e||window.ga("set","anonymizeIp",!0)}},{key:"_createSplash",value:function(e,t){var n=this,o=e.assets.find(function(e){return e.hasOwnProperty("name")&&512===e.width&&512===e.height});o=o?"https://img.gamedistribution.com/"+o.name:e.assets[0].hasOwnProperty("name")?"https://img.gamedistribution.com/"+e.assets[0].name:"https://img.gamedistribution.com/logo.svg";var i="\n            body {\n                position: inherit;\n            }\n            ."+this.options.prefix+"splash-background-container {\n                box-sizing: border-box;\n                position: absolute;\n                z-index: 664;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background-color: #000;\n                overflow: hidden;\n            }\n            ."+this.options.prefix+"splash-background-image {\n                box-sizing: border-box;\n                position: absolute;\n                top: -25%;\n                left: -25%;\n                width: 150%;\n                height: 150%;\n                background-image: url("+o+");\n                background-size: cover;\n                filter: blur(50px) brightness(1.5);\n            }\n            ."+this.options.prefix+"splash-container {\n                display: flex;\n                flex-flow: column;\n                box-sizing: border-box;\n                position: absolute;\n                z-index: 665;\n                bottom: 0;\n                width: 100%;\n                height: 100%;\n            }\n            ."+this.options.prefix+"splash-top {\n                display: flex;\n                flex-flow: column;\n                box-sizing: border-box;\n                flex: 1;\n                align-self: center;\n                justify-content: center;\n                padding: 20px;\n            }\n            ."+this.options.prefix+"splash-top > div {\n                text-align: center;\n            }\n            ."+this.options.prefix+"splash-top > div > button {\n                border: 0;\n                margin: auto;\n                padding: 10px 22px;\n                border-radius: 5px;\n                border: 3px solid white;\n                background: linear-gradient(0deg, #dddddd, #ffffff);\n                color: #222;\n                text-transform: uppercase;\n                text-shadow: 0 0 1px #fff;\n                font-family: Helvetica, Arial, sans-serif;\n                font-weight: bold;\n                font-size: 18px;\n                cursor: pointer;\n                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n            }\n            ."+this.options.prefix+"splash-top > div > button:hover {\n                background: linear-gradient(0deg, #ffffff, #dddddd);\n            }\n            ."+this.options.prefix+"splash-top > div > button:active {\n                box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);\n                background: linear-gradient(0deg, #ffffff, #f5f5f5);\n            }\n            ."+this.options.prefix+"splash-top > div > div {\n                position: relative;\n                width: 150px;\n                height: 150px;\n                margin: auto auto 20px;\n                border-radius: 100%;\n                overflow: hidden;\n                border: 3px solid rgba(255, 255, 255, 1);\n                background-color: #000;\n                box-shadow: inset 0 5px 5px rgba(0, 0, 0, 0.5), 0 2px 4px rgba(0, 0, 0, 0.3);\n                background-image: url("+o+");\n                background-position: center;\n                background-size: cover;\n            }\n            ."+this.options.prefix+"splash-top > div > div > img {\n                width: 100%;\n                height: 100%;\n            }\n            ."+this.options.prefix+"splash-bottom {\n                display: flex;\n                flex-flow: column;\n                box-sizing: border-box;\n                align-self: center;\n                justify-content: center;\n                width: 100%;\n                padding: 0 0 20px;\n            }\n            ."+this.options.prefix+"splash-bottom > ."+this.options.prefix+"splash-consent,\n            ."+this.options.prefix+"splash-bottom > ."+this.options.prefix+"splash-title {\n                box-sizing: border-box;\n                width: 100%;\n                padding: 20px;\n                background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.5) 50%, transparent);\n                color: #fff;\n                text-align: left;\n                font-size: 12px;\n                font-family: Arial;\n                font-weight: normal;\n                text-shadow: 0 0 1px rgba(0, 0, 0, 0.7);\n                line-height: 150%;\n            }\n            ."+this.options.prefix+"splash-bottom > ."+this.options.prefix+"splash-title {\n                padding: 15px 0;\n                text-align: center;\n                font-size: 18px;\n                font-family: Helvetica, Arial, sans-serif;\n                font-weight: bold;\n                line-height: 100%;\n            }\n            ."+this.options.prefix+"splash-bottom > ."+this.options.prefix+"splash-consent a {\n                color: #fff;\n            }\n        ",r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),r.appendChild(s);var a="";a=t?'\n                <div class="'+this.options.prefix+'splash-background-container">\n                    <div class="'+this.options.prefix+'splash-background-image"></div>\n                </div>\n                <div class="'+this.options.prefix+'splash-container">\n                    <div class="'+this.options.prefix+'splash-top">\n                        <div>\n                            <div></div>\n                            <button id="'+this.options.prefix+'splash-button">Play Game</button>\n                        </div>   \n                    </div>\n                    <div class="'+this.options.prefix+'splash-bottom">\n                        <div class="'+this.options.prefix+'splash-consent">\n                            We may show personalized ads provided by our partners, and our \n                            services can not be used by children under 16 years old without the \n                            consent of their legal guardian. By clicking "PLAY GAME", you consent \n                            to transmit your data to our partners for advertising purposes and \n                            declare that you are 16 years old or have the permission of your \n                            legal guardian. You can review our terms\n                            <a href="https://docs.google.com/document/d/e/2PACX-1vR0BAkCq-V-OkAJ3EBT4qW4sZ9k1ta9K9EAa32V9wlxOOgP-BrY9Nv-533A_zdN3yi7tYRjO1r5cLxS/pub" target="_blank">here</a>.\n                        </div>\n                    </div>\n                </div>\n            ':"b92a4170784248bca2ffa0c08bec7a50"===e.gameId?'\n                <div class="'+this.options.prefix+'splash-background-container">\n                    <div class="'+this.options.prefix+'splash-background-image"></div>\n                </div>\n                <div class="'+this.options.prefix+'splash-container">\n                    <div class="'+this.options.prefix+'splash-top">\n                        <div>\n                            <button id="'+this.options.prefix+'splash-button">Play Game</button>\n                        </div>   \n                    </div>\n                </div>\n            ':'\n                <div class="'+this.options.prefix+'splash-background-container">\n                    <div class="'+this.options.prefix+'splash-background-image"></div>\n                </div>\n                <div class="'+this.options.prefix+'splash-container">\n                    <div class="'+this.options.prefix+'splash-top">\n                        <div>\n                            <div></div>\n                            <button id="'+this.options.prefix+'splash-button">Play Game</button>\n                        </div>   \n                    </div>\n                    <div class="'+this.options.prefix+'splash-bottom">\n                        <div class="'+this.options.prefix+'splash-title">'+e.title+"</div>\n                    </div>\n                </div>\n            ";var d=document.createElement("div");d.innerHTML=a,d.id=this.options.prefix+"splash";var c=this.options.flashSettings.splashContainerId?document.getElementById(this.options.flashSettings.splashContainerId):null;if(c)c.style.display="block",c.insertBefore(d,c.firstChild);else{var l=document.body||document.getElementsByTagName("body")[0];l.insertBefore(d,l.firstChild)}t?document.getElementById(this.options.prefix+"splash-button").addEventListener("click",function(){var e=new Date;e.setDate(e.getDate()+90),document.cookie="ogdpr_tracking=1; expires="+e.toUTCString()+"; path=/",n.showBanner()}):d.addEventListener("click",function(){n.showBanner()});this.onPauseGame("Pause the game and wait for a user gesture","success"),this.eventBus.subscribe("CONTENT_PAUSE_REQUESTED",function(){d&&d.parentNode?d.parentNode.removeChild(d):d&&(d.style.display="none"),c&&c.parentNode?c.parentNode.removeChild(c):c&&(c.style.display="none")}),this.eventBus.subscribe("SDK_GAME_START",function(){d&&d.parentNode?d.parentNode.removeChild(d):d&&(d.style.display="none"),c&&c.parentNode?c.parentNode.removeChild(c):c&&(c.style.display="none")})}},{key:"showBanner",value:function(){var t=this;this.readyPromise.then(function(e){e.advertisements&&!t.whitelabelPartner?void 0!==t.adRequestTimer?(new Date).valueOf()-t.adRequestTimer.valueOf()<e.midroll?((0,p.dankLog)("SDK_SHOW_BANNER","The advertisement was requested too soon after the previous advertisement was finished.","warning"),t.onResumeGame("Just resume the game...","success")):((0,p.dankLog)("SDK_SHOW_BANNER","Requested the midroll advertisement.","success"),t.adRequestTimer=new Date,t.videoAdInstance.requestAttempts=0,t.videoAdInstance.requestAd().then(function(e){return t.videoAdInstance.loadAd(e)}).catch(function(e){t.videoAdInstance.onError(e)})):((0,p.dankLog)("SDK_SHOW_BANNER","Requested the preroll advertisement.","success"),t.adRequestTimer=new Date,t.videoAdInstance.requestAttempts=0,t.videoAdInstance.requestAd().then(function(e){return t.videoAdInstance.loadAd(e)}).catch(function(e){t.videoAdInstance.onError(e)})):(t.videoAdInstance.cancel(),(0,p.dankLog)("SDK_SHOW_BANNER","Advertisements are disabled.","warning"))}).catch(function(e){(0,p.dankLog)("SDK_SHOW_BANNER",e,"error")})}},{key:"customLog",value:function(e){}},{key:"play",value:function(){}},{key:"onResumeGame",value:function(e,t){try{this.options.resumeGame()}catch(e){console.log(e)}var n="SDK_GAME_START";this.eventBus.broadcast(n,{name:n,message:e,status:t,analytics:{category:"SDK",action:n,label:this.options.gameId+""}})}},{key:"onPauseGame",value:function(e,t){try{this.options.pauseGame()}catch(e){console.log(e)}var n="SDK_GAME_PAUSE";this.eventBus.broadcast(n,{name:n,message:e,status:t,analytics:{category:"SDK",action:n,label:this.options.gameId+""}})}},{key:"openConsole",value:function(){try{new i.default(this.options.testing).start(),localStorage.setItem("gd_debug",!0)}catch(e){console.log(e)}}}]),l}();n.default=s},{"../package.json":5,"./components/EventBus":6,"./components/ImplementationTest":7,"./components/VideoAd":8,"./modules/common":11,"./modules/dankLog":12,"es6-promise/auto":1,"whatwg-fetch":4}],11:[function(e,t,n){"use strict";function i(e,t){var n=t||window.location.href,o=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(n);return o?o[1]:null}function r(){for(var e=void 0,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.toLowerCase().replace(t," "))},i=window.location.search.substring(1),r={};e=n.exec(i);)r[o(e[1])]=o(e[2]);return r}function s(e){for(;(t=(t=e)||"")!==decodeURIComponent(t);)e=decodeURIComponent(e);var t;return e}Object.defineProperty(n,"__esModule",{value:!0}),n.extendDefaults=function(e,t){var n=void 0;for(n in t)t.hasOwnProperty(n)&&null!==t[n]&&void 0!==t[n]&&(e[n]=t[n]);return e},n.getParentUrl=function(){var e=r();if(e.gd_sdk_referrer_url)return console.log("self-hosted referrer URL:",e.gd_sdk_referrer_url),e.gd_sdk_referrer_url;var t=window.location!==window.parent.location&&document.referrer&&""!==document.referrer?document.referrer:document.location.href;if(-1!==document.referrer.indexOf("gameplayer.io")){t="https://gamedistribution.com";var n=i("ref",document.referrer);if(n){var o=n;""!==o&&"{portal%20name}"!==o&&"{spilgames}"!==o&&"{portal name}"!==o&&(t="https://"+(t=(o=s(o)).replace(/^(?:https?:\/\/)?(?:\/\/)?/i,"")))}console.info("Spil referrer URL: "+t)}else-1!==document.referrer.indexOf("localhost")&&(t="https://gamedistribution.com/");return t},n.getParentDomain=function(){var e=r(),t=(e.gd_sdk_referrer_url?e.gd_sdk_referrer_url:window.location!==window.parent.location&&document.referrer&&""!==document.referrer?document.referrer.split("/")[2]:document.location.host).replace(/^(?:https?:\/\/)?(?:\/\/)?(?:www\.)?/i,"").split("/")[0];if(-1!==document.referrer.indexOf("gameplayer.io")){t="gamedistribution.com";var n=i("ref",document.referrer);if(n){var o=n;""!==o&&"{portal%20name}"!==o&&"{spilgames}"!==o&&"{portal name}"!==o&&(t=(o=s(o)).replace(/^(?:https?:\/\/)?(?:\/\/)?(?:www\.)?/i,"").split("/")[0])}console.info("Spil referrer domain: "+t)}else-1!==document.referrer.indexOf("localhost")&&(t="gamedistribution.com");return t},n.getQueryParams=r,n.updateQueryStringParameter=function(e,t,n){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+n+"$2"):e+i+t+"="+n},n.getMobilePlatform=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(e)?"windows":/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"ios":""},n.getQueryString=i},{}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Date.now();n.dankLog=function(e,t,n){try{if(localStorage.getItem("gd_debug")){var o="error"===n?"background: #c4161e; color: #fff":"warning"===n?"background: #ff8c1c; color: #fff":"info"===n?"background: #ff0080; color: #fff":"background: #44a5ab; color: #fff",i=console.log("["+(Date.now()-r)/1e3+"s]%c %c %c gdsdk %c %c %c "+e+" ","background: #9854d8","background: #6c2ca7","color: #fff; background: #450f78;","background: #6c2ca7","background: #9854d8",o,void 0!==t?t:"");console.log.apply(console,i)}}catch(e){console.log(e)}}},{}]},{},[6,7,8,9,10,11,12]);